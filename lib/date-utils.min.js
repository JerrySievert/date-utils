(function(){function e(a,p){return(a+1E4+"").substr(5-p)}function b(a,p){Date.prototype[a]===void 0&&(Date.prototype[a]=p)}var i,h,q,r,s="January0February0March0April0May0June0July0August0September0October0November0December".split(0),t=[],u={};for(i=12;i--;)h=s[i],t[i]=h.substr(0,3),h=h.toLowerCase(),u[h.substr(0,3)]=u[h]=i;var w=s.concat(t),x="saturday0friday0thursday0wednesday0tuesday0monday0sunday".split(0),v=[],l={};for(i=7;i--;)h=x[i],q=h.substr(0,2),r=h.substr(0,3),v.push(q,r,h),l[q]=l[r]=l[h]=
6-i;var y=[31,28,31,30,31,30,31,31,30,31,30,31],m=function(a,p,c,b){for(;b>=c;b--){var f=a.substr(p,b);if(f.length<c)break;if(/^\d+$/.test(f))return f}return null},z=Date.parse,A=function(a,b){a+="";b+="";var c=0,e=0,f="",d="",k,j=new Date;k=j.getYear();for(var j=j.getMonth()+1,h=1,g=0,i=0,n=0,l="";e<b.length;){f=b.charAt(e);for(d="";b.charAt(e)===f&&e<b.length;)d+=b.charAt(e++);if(/^y(y|yyy)?$/.test(d)){k=f=d.length;d==="y"&&(k=2,f=4);k=m(a,c,k,f);if(k===null)return NaN;c+=k.length;k.length===2&&
(k+=k>70?1900:2E3)}else if(d==="MMM"||d==="NNN"){for(f=j=0;f<w.length;f++){var o=w[f];if(a.substr(c,o.length).toLowerCase()===o.toLowerCase()&&(d==="MMM"||d==="NNN"&&f>11)){j=(f+1)%12;c+=o.length;break}}if(j<1||j>12)return NaN}else if(/^EE?$/.test(d))for(d=0;d<v.length;d++){if(f=v[d],o=f.length,a.substr(c,o).toLowerCase()===f.toLowerCase()){c+=o;break}}else if(/^MM?$/.test(d)){j=m(a,c,d.length,2);if(j===null||j<1||j>12)return NaN;c+=j.length}else if(/^dd?$/.test(d)){h=m(a,c,d.length,2);if(h===null||
h<1||h>31)return NaN;c+=h.length}else if(/^hh?$/.test(d)){g=m(a,c,d.length,2);if(g===null||g<1||g>12)return NaN;c+=g.length}else if(/^HH?$/.test(d)){g=m(a,c,d.length,2);if(g===null||g<0||g>23)return NaN;c+=g.length}else if(/^KK?$/.test(d)){g=m(a,c,d.length,2);if(g===null||g<0||g>11)return NaN;c+=g.length}else if(/^kk?$/.test(d)){g=m(a,c,d.length,2);if(g===null||g<1||g>24)return NaN;c+=g.length;g--}else if(/^mm?$/.test(d)){i=m(a,c,d.length,2);if(i===null||i<0||i>59)return NaN;c+=i.length}else if(/^ss?$/.test(d)){n=
m(a,c,d.length,2);if(n===null||n<0||n>59)return NaN;c+=n.length}else if(d==="a"){l=a.substr(c,2).toUpperCase();if(!/[ap]m/i.test(l))return NaN;c+=2}else{if(a.substr(c,d.length)!==d)return NaN;c+=d.length}}if(c!==a.length)return NaN;if(j===2)if(k%4===0&&k%100!==0||k%400===0){if(h>29)return NaN}else if(h>28)return NaN;if(/^[469]$|^11$/.test(j)&&h>30)return NaN;g<12&&l==="PM"?g+=12:g>11&&l==="AM"&&(g-=12);return+new Date(k,j-1,h,g,i,n)};Date.parse=function(a,b){if(b)return A(a,b);var c=z(a),e=0,f;if(isNaN(c)&&
(f=/^(\d{4}|[+-]\d{6})-(\d{2})-(\d{2})(?:[T ](\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?))?/.exec(a)))f[8]!=="Z"&&(e=+f[10]*60+ +f[11],f[9]==="+"&&(e=0-e)),c=Date.UTC(+f[1],+f[2]-1,+f[3],+f[4],+f[5]+e,+f[6],+f[7].substr(0,3));return c};Date.today=function(){return(new Date).clearTime()};Date.tomorrow=function(){return Date.today().add({days:1})};Date.yesterday=function(){return Date.today().add({days:-1})};Date.validateDay=function(a,b,c){var e=new Date(b,c,a);return e.getFullYear()===
b&&e.getMonth()===c&&e.getDate()===a};Date.validateYear=function(a){return a>=0&&a<=9999};Date.validateSecond=function(a){return a>=0&&a<60};Date.validateMonth=function(a){return a>=0&&a<12};Date.validateMinute=function(a){return a>=0&&a<60};Date.validateMillisecond=function(a){return a>=0&&a<1E3};Date.validateHour=function(a){return a>=0&&a<24};Date.compare=function(a,b){return a<b?-1:a>b?1:0};Date.equals=function(a,b){return+a===+b};Date.getDayNumberFromName=function(a){return l[a.toLowerCase()]};
Date.getMonthNumberFromName=function(a){return u[a.toLowerCase()]};Date.isLeapYear=function(a){return(new Date(a,1,29)).getDate()===29};Date.getDaysInMonth=function(a,b){return b===1?Date.isLeapYear(a)?29:28:y[b]};b("getMonthAbbr",function(){return t[this.getMonth()]});b("getMonthName",function(){return s[this.getMonth()]});b("getUTCOffset",function(){var a=-this.getTimezoneOffset(),b="";a<0&&(a=-a,b="-");return b+e(a/0.6,4)});b("toCLFString",function(){return e(this.getDate(),2)+"/"+this.getMonthAbbr()+
"/"+this.getFullYear()+":"+e(this.getHours(),2)+":"+e(this.getMinutes(),2)+":"+e(this.getSeconds(),2)+" "+this.getUTCOffset()});b("toYMD",function(a){a=a||"-";return this.getFullYear()+a+e(this.getMonth()+1,2)+a+e(this.getDate(),2)});b("toDBString",function(){return this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1,2)+"-"+e(this.getUTCDate(),2)+" "+e(this.getUTCHours(),2)+":"+e(this.getUTCMinutes(),2)+":"+e(this.getUTCSeconds(),2)});b("clearTime",function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);
this.setMilliseconds(0);return this});b("add",function(a){a.milliseconds!==void 0&&this.setMilliseconds(this.getMilliseconds()+a.milliseconds);a.seconds!==void 0&&this.setSeconds(this.getSeconds()+a.seconds);a.minutes!==void 0&&this.setMinutes(this.getMinutes()+a.minutes);a.hours!==void 0&&this.setHours(this.getHours()+a.hours);a.days!==void 0&&this.setDate(this.getDate()+a.days);a.months!==void 0&&this.setMonth(this.getMonth()+a.months);a.years!==void 0&&this.setFullYear(this.getFullYear()+a.years);
return this});b("addMilliseconds",function(a){return this.add({milliseconds:a})});b("addSeconds",function(a){return this.add({seconds:a})});b("addMinutes",function(a){return this.add({minutes:a})});b("addHours",function(a){return this.add({hours:a})});b("addDays",function(a){return this.add({days:a})});b("addWeeks",function(a){return this.add({days:a*7})});b("addMonths",function(a){return this.add({months:a})});b("addYears",function(a){return this.add({years:a})});b("setTimeToNow",function(){var a=
new Date;this.setMilliseconds(a.getMilliseconds());this.setSeconds(a.getSeconds());this.setMinutes(a.getMinutes());this.setHours(a.getHours())});b("clone",function(){return new Date(+this)});b("between",function(a,b){return this>=a&&this<=b});b("compareTo",function(a){return Date.compare(this,a)});b("equals",function(a){return Date.equals(this,a)});b("isAfter",function(a){return this.compareTo(a||new Date)>0});b("isBefore",function(a){return this.compareTo(a||new Date)<0});b("getDaysBetween",function(a){return(a.clone()-
this)/864E5|0});b("getHoursBetween",function(a){return(a.clone()-this)/36E5|0});b("getMinutesBetween",function(a){return(a.clone()-this)/6E4|0});b("getSecondsBetween",function(a){return(a.clone()-this)/1E3|0});b("getOrdinalNumber",function(){return Math.ceil((this.clone().clearTime()-new Date(this.getFullYear(),0,1))/864E5)+1});b("toFormat",function(a){return a.replace("YYYY",this.getFullYear()).replace("YY",(""+this.getFullYear()).slice(-2)).replace("MM",e(this.getMonth()+1,2)).replace("DD",e(this.getDate(),
2)).replace("HH24",e(this.getHours(),2)).replace("HH",e(this.getHours()%12,2)).replace("MI",e(this.getMinutes(),2)).replace("SS",e(this.getSeconds(),2))})})();